// TF2 Monitor
//
// Usage: exec tf2-monitor.cfg
//
// See https://github.com/russellane/tf2-monitor
//
// Use 'key_listboundkeys' to see all key bindings

echo "-------------------------------------------------------------------------"
echo "Running user/tf2-monitor.cfg"

//------------------------------------------------------------------------------
// The aliases referenced that begin with an underscore are "worker" aliases.
// They are created by `tf2-monitor-work.cfg`, which is a transient file that
// is created by the monitor, and loaded by `exec` from `tf2mon_pull`.
//
// Worker aliases may send an ACK to the monitor.

//------------------------------------------------------------------------------
// pull work from the monitor.

//alias tf2mon_pull               "exec tf2-monitor-work.cfg; echo TF2MON-PULL"
alias tf2mon_pull               "exec user/tf2-monitor-work.cfg"

// push the latest "map and connection status" to the monitor. must use
// often; for the monitor to receive userids of new users, and to detect
// user disconnects.

alias tf2mon_push               "status; tf_lobby_debug"

// kicks queue
alias tf2mon_kicks_pop          "tf2mon_pull; _tf2mon_kicks_pop"
alias tf2mon_kicks_popleft      "tf2mon_pull; _tf2mon_kicks_popleft"
alias tf2mon_kicks_clear        "echo TF2MON-KICKS-CLEAR"

// spams queue
alias tf2mon_spams_pop          "tf2mon_pull; _tf2mon_spams_pop"
alias tf2mon_spams_popleft      "tf2mon_pull; _tf2mon_spams_popleft"
alias tf2mon_spams_clear        "echo TF2MON-SPAMS-CLEAR"

// clear queues
alias tf2mon_clear_queues       "echo TF2MON-CLEAR-QUEUES"

//------------------------------------------------------------------------------

exec user/tf2-monitor-fkeys.cfg

// use 'key_listboundkeys' to see all key bindings

//------------------------------------------------------------------------------
//  vim: set ts=4 sw=4 tw=0 et :
